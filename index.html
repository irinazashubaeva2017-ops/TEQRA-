<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>TEQRA :: Zero Core</title>

<style>
:root{
  --void:#030304;
  --lava:255,90,40;
  --cold:120,220,255;
  --fracture:1;
}

*{margin:0;padding:0;box-sizing:border-box;user-select:none}
body{
  background:radial-gradient(circle at center,#08080a 0%,#000 70%);
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:monospace;
  color:rgba(255,255,255,.6);
}

/* ПРОСТІР */
#space{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%,rgba(255,255,255,.05),transparent 40%),
    radial-gradient(circle at 80% 70%,rgba(255,255,255,.04),transparent 40%);
  animation:spaceDrift 40s linear infinite;
}
@keyframes spaceDrift{
  from{transform:translate(0,0)}
  to{transform:translate(-50px,30px)}
}

/* ЯДРО */
#coreWrap{
  position:relative;
  width:280px;
  height:280px;
  filter:drop-shadow(0 0 80px rgba(var(--lava),.5));
}

/* ПЛАНЕТА */
#planet{
  width:100%;
  height:100%;
  border-radius:50%;
  background:
    radial-gradient(circle at 30% 30%,#444,#111 60%,#000 100%);
  position:relative;
  overflow:hidden;
  animation:planetPulse 2s infinite ease-in-out;
}
@keyframes planetPulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.02)}
  100%{transform:scale(1)}
}

/* ТРІЩИНИ */
.crack{
  position:absolute;
  inset:0;
  background:
    repeating-linear-gradient(
      120deg,
      transparent 0%,
      transparent 46%,
      rgba(var(--lava),.8) 48%,
      transparent 50%
    );
  mix-blend-mode:screen;
  animation:crackShift 3s infinite linear;
}
@keyframes crackShift{
  from{background-position:0 0}
  to{background-position:300px 200px}
}

/* ЛАВА */
#lava{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at center,
      rgba(var(--lava),.9),
      rgba(var(--lava),.2) 40%,
      transparent 65%);
  opacity:.7;
  animation:lavaMove 1.5s infinite alternate;
}
@keyframes lavaMove{
  from{transform:scale(1)}
  to{transform:scale(1.1)}
}

/* ІІ-КІЛЬЦЯ */
.aiRing{
  position:absolute;
  inset:-30px;
  border-radius:50%;
  border:1px dashed rgba(var(--cold),.6);
  animation:spin 18s linear infinite;
}
.aiRing:nth-child(2){
  inset:-55px;
  animation-duration:28s;
  opacity:.4;
}
@keyframes spin{
  to{transform:rotate(360deg)}
}

/* ДУМКИ */
#thought{
  position:absolute;
  bottom:15%;
  width:100%;
  text-align:center;
  font-size:.75rem;
  letter-spacing:.3em;
  opacity:0;
  transition:opacity 1s;
}

/* РОЗПАД СВІТУ */
body.chaos #coreWrap{
  animation:worldShake .1s infinite;
}
@keyframes worldShake{
  0%{transform:translate(0,0)}
  50%{transform:translate(3px,-2px)}
  100%{transform:translate(-2px,3px)}
}
</style>
</head>

<body class="chaos">

<div id="space"></div>

<div id="coreWrap">
  <div class="aiRing"></div>
  <div class="aiRing"></div>

  <div id="planet">
    <div id="lava"></div>
    <div class="crack"></div>
  </div>
</div>

<div id="thought"></div>

<script>
const thought=document.getElementById('thought');
let entropy=80;
let holding=false;
let stabilized=false;

function say(text,time=3000){
  thought.textContent=text;
  thought.style.opacity=1;
  if(time>0)setTimeout(()=>thought.style.opacity=0,time);
}

setTimeout(()=>say("структура планети порушена"),1000);
setTimeout(()=>say("алгоритм більше не сходиться"),4500);
setTimeout(()=>say("потрібна зовнішня константа",0),8000);

/* УТРИМАННЯ */
document.addEventListener('mousedown',holdStart);
document.addEventListener('touchstart',holdStart,{passive:false});
document.addEventListener('mouseup',holdEnd);
document.addEventListener('touchend',holdEnd);

function holdStart(e){
  e.preventDefault();
  holding=true;
  say("утримуй ядро",0);
}
function holdEnd(){
  holding=false;
  if(!stabilized)say("втрата стабільності");
}

/* ФІЗИКА */
setInterval(()=>{
  if(stabilized)return;

  entropy += holding ? -1.2 : 0.8;
  entropy=Math.max(0,Math.min(100,entropy));

  document.documentElement.style.setProperty('--fracture',entropy/100);

  if(entropy<=1 && holding){
    stabilize();
  }
},40);

function stabilize(){
  stabilized=true;
  document.body.classList.remove('chaos');
  document.getElementById('lava').style.background=
    'radial-gradient(circle at center,rgba(120,220,255,.8),transparent 60%)';
  say("ядро стабілізовано",3000);
  setTimeout(()=>say("резонанс зафіксовано",0),3500);
}
</script>

</body>
</html>

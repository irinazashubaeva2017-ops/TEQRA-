<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TEQRA // SYSTEM FRACTURE</title>

<style>
:root{
  --bg:#000;
  --green:#00ff88;
  --cyan:#66ccff;
  --violet:#c77dff;
  --gray:rgba(255,255,255,0.7);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:monospace}

body{
  background:black;
  color:white;
  overflow:hidden;
}

/* ===== БІНАРНИЙ ДОЩ ===== */
canvas{
  position:fixed;
  inset:0;
  z-index:0;
}

/* ===== КОНТЕНТ ===== */
#ui{
  position:relative;
  z-index:2;
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:20px;
  background:radial-gradient(circle at center, rgba(0,0,0,0.4), black 70%);
}

/* ===== ТЕКСТ ===== */
p{
  max-width:600px;
  line-height:1.6;
  margin-bottom:20px;
  letter-spacing:2px;
  color:var(--gray);
}

/* ===== КНОПКИ ===== */
.choice{
  width:100%;
  max-width:500px;
  border:1px solid rgba(255,255,255,0.3);
  padding:18px;
  margin:10px 0;
  cursor:pointer;
  transition:.3s;
  background:rgba(0,0,0,0.6);
}

.choice:hover{
  background:rgba(255,255,255,0.05);
}

.choice.active{
  box-shadow:0 0 30px currentColor;
  transform:scale(1.03);
}

.foundation{color:#ffcc88}
.architect{color:var(--cyan)}
.resonance{color:var(--violet)}

.hidden{display:none}
.fade{
  animation:fade 1.2s forwards;
}

@keyframes fade{
  from{opacity:0}
  to{opacity:1}
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div id="ui">
  <div id="intro" class="fade">
    <p>
      СИСТЕМА ТРІЩИТЬ.<br>
      НЕ ЗОВНІ — ВСЕРЕДИНІ.
    </p>
    <p>
      ФУНДАМЕНТ.<br>
      АРХІТЕКТУРА.<br>
      РЕЗОНАНС.
    </p>
    <p>ОБЕРИ ПРИНЦИП.</p>

    <div class="choice foundation" onclick="selectRole('foundation')">
      ФУНДАМЕНТ // СТІЙКІСТЬ
    </div>
    <div class="choice architect" onclick="selectRole('architect')">
      АРХІТЕКТОР // ЛОГІКА
    </div>
    <div class="choice resonance" onclick="selectRole('resonance')">
      РЕЗОНАНС // ЗВʼЯЗКИ
    </div>
  </div>

  <div id="chapter" class="hidden"></div>
</div>

<script>
/* ===== MATRIX ===== */
const canvas=document.getElementById("matrix");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

const letters=["0","1"];
const font=16;
const columns=canvas.width/font;
const drops=Array(columns).fill(1);

function draw(){
  ctx.fillStyle="rgba(0,0,0,0.05)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#00ff88";
  ctx.font=font+"px monospace";
  for(let i=0;i<drops.length;i++){
    const text=letters[Math.floor(Math.random()*2)];
    ctx.fillText(text,i*font,drops[i]*font);
    if(drops[i]*font>canvas.height && Math.random()>0.975)
      drops[i]=0;
    drops[i]++;
  }
}
setInterval(draw,40);

/* ===== СЮЖЕТ ===== */
const intro=document.getElementById("intro");
const chapter=document.getElementById("chapter");
let locked=false;

function selectRole(role){
  if(locked)return;
  locked=true;

  document.querySelectorAll(".choice").forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");

  setTimeout(()=>{
    intro.classList.add("hidden");
    chapter.classList.remove("hidden");
    chapter.classList.add("fade");
    chapter.innerHTML=getChapter(role);
  },800);
}

function getChapter(role){
  if(role==="foundation")return`
    <p>ГЛАВА I — ФУНДАМЕНТ</p>
    <p>
      ТИ НЕ ВИПРАВЛЯЄШ СВІТ.<br>
      ТИ ЙОГО УТРИМУЄШ.
    </p>
    <p>
      КОЖЕН ЗБІЙ ПРИДУШЕНО.<br>
      КОЖНА ПОМИЛКА СХОВАНА.
    </p>
    <p>
      СТІЙКІСТЬ — ЦЕ ФОРМА НАСИЛЬСТВА.
    </p>
  `;

  if(role==="architect")return`
    <p>ГЛАВА I — АРХІТЕКТОР</p>
    <p>
      ТИ БАЧИШ СТРУКТУРУ<br>
      ТАМ, ДЕ ІНШІ БАЧАТЬ ХАОС.
    </p>
    <p>
      СИСТЕМА НЕ ЗЛАМАНА.<br>
      ВОНА ПОГАНО СПРОЕКТОВАНА.
    </p>
    <p>
      ТИ ПОЧИНАЄШ ПЕРЕПИС.
    </p>
  `;

  return`
    <p>ГЛАВА I — РЕЗОНАНС</p>
    <p>
      СИСТЕМА ВІДЧУВАЄ.
    </p>
    <p>
      ЗВʼЯЗКИ НЕ СХВАЛЕНІ.<br>
      ПАМʼЯТЬ ПРОТИКАЄ.
    </p>
    <p>
      ТИ НЕ КОНТРОЛЮЄШ.<br>
      ТИ СЛУХАЄШ.
    </p>
  `;
}
</script>

</body>
</html>

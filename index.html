<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TEQRA — ФУНДАМЕНТ</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    background:#050507;
    color:#d8d8dd;
    font-family: monospace;
    overflow:hidden;
}

/* ===== БІНАРНИЙ ХАОС ===== */
#binary{
    position:fixed;
    inset:0;
    font-size:14px;
    line-height:16px;
    opacity:.18;
    pointer-events:none;
    white-space:pre;
    animation: drift 6s infinite alternate;
}
@keyframes drift{
    from{transform:translate(0,0)}
    to{transform:translate(-40px,30px)}
}

/* ===== ОСНОВА ===== */
#ui{
    position:relative;
    max-width:760px;
    margin:6vh auto;
    padding:40px;
    background:rgba(8,8,12,.82);
    border:1px solid rgba(255,255,255,.12);
    backdrop-filter:blur(6px);
    z-index:10;
}

.system{
    font-size:12px;
    letter-spacing:.35em;
    opacity:.6;
    margin-bottom:24px;
}

.text{
    font-size:18px;
    line-height:1.6;
    margin-bottom:24px;
}

/* ===== КНОПКА ===== */
#hold{
    width:170px;
    height:170px;
    border-radius:50%;
    border:2px solid #6dffd0;
    margin:30px auto;
    display:flex;
    align-items:center;
    justify-content:center;
    letter-spacing:.25em;
    color:#6dffd0;
    user-select:none;
}

/* ===== ПРОГРЕС ===== */
#bar{
    height:6px;
    background:rgba(255,255,255,.08);
}
#fill{
    height:100%;
    width:35%;
    background:#6dffd0;
    transition:.15s;
}

/* ===== ПОЛОМКИ ===== */
.break{
    position:absolute;
    width:80px;
    height:40px;
    background:#000;
    border:1px solid rgba(255,80,80,.8);
    box-shadow:0 0 12px rgba(255,0,0,.5);
    animation:flicker .4s infinite alternate;
    cursor:pointer;
}
@keyframes flicker{
    from{opacity:.4}
    to{opacity:1}
}

/* ===== ГЛІТЧ ===== */
.glitch{
    animation:glitch .15s infinite;
}
@keyframes glitch{
    0%{transform:translate(0)}
    25%{transform:translate(-2px,1px)}
    50%{transform:translate(2px,-1px)}
    75%{transform:translate(-1px,2px)}
    100%{transform:translate(0)}
}
</style>
</head>

<body>

<pre id="binary"></pre>

<div id="ui">
    <div class="system">ПРОТОКОЛ ФУНДАМЕНТУ</div>

    <div class="text" id="text">
        Система втрачає центр.<br><br>
        Дані більше не сходяться в одній точці.<br><br>
        Ти не виправляєш її.<br>
        Ти утримуєш вагу.
    </div>

    <div id="hold">УТРИМУВАТИ</div>

    <div id="bar"><div id="fill"></div></div>
</div>

<script>
/* ===== БІНАРНИЙ ФОН ===== */
const binary=document.getElementById("binary");
setInterval(()=>{
    let out="";
    for(let i=0;i<1000;i++){
        out+=Math.random()>.5?"1":"0";
        if(i%80===0)out+="\n";
    }
    binary.textContent=out;
},180);

/* ===== СТАН ===== */
let holding=false;
let stability=35;
let active=true;

/* ===== КНОПКА ===== */
const hold=document.getElementById("hold");
hold.addEventListener("mousedown",()=>holding=true);
hold.addEventListener("mouseup",()=>holding=false);
hold.addEventListener("touchstart",()=>holding=true);
hold.addEventListener("touchend",()=>holding=false);

/* ===== ПОЛОМКИ ===== */
function spawnBreak(){
    if(!active) return;
    const b=document.createElement("div");
    b.className="break";
    b.style.left=Math.random()*80+"%";
    b.style.top=Math.random()*80+"%";
    b.onclick=()=>{
        stability+=10;
        b.remove();
    };
    document.body.appendChild(b);
    setTimeout(()=>b.remove(),2600);
}
setInterval(spawnBreak,1700);

/* ===== ЦИКЛ ===== */
const fill=document.getElementById("fill");
const text=document.getElementById("text");

function loop(){
    if(!active) return;

    if(holding){
        stability+=0.35;
        document.body.classList.remove("glitch");
    }else{
        stability-=0.6;
        document.body.classList.add("glitch");
    }

    stability=Math.max(0,Math.min(100,stability));
    fill.style.width=stability+"%";

    if(stability<=0){
        active=false;
        text.innerHTML="СИСТЕМА ЗРУЙНОВАНА.<br>Фундамент втрачено.";
        document.body.classList.remove("glitch");
        return;
    }

    if(stability>=100){
        active=false;
        text.innerHTML=
        "Рівновага зафіксована.<br><br>"+
        "Ти витримала навантаження.<br>"+
        "Фундамент прийняв тебе.";
        document.body.classList.remove("glitch");
        return;
    }

    requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
